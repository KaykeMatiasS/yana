!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ApiMountClient=t():e.ApiMountClient=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("react")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useStickyScroll=void 0;var r=n(0),o=n(2);t.useStickyScroll=function(e,t,n){var l,u=r.useState(null===(l=null==n?void 0:n.enabled)||void 0===l||l),c=u[0],i=u[1],a=r.useState(!0),f=a[0],s=a[1],d=r.useRef(f),v=function(){e.current.scrollTop=e.current.scrollHeight};r.useEffect((function(){d.current=f,f&&v()}),[t.length,e,f]);var p=function(){!function(){var t=e.current,n=t.scrollHeight,r=t.clientHeight,o=n===t.scrollTop+r;d.current&&!o?s(!1):!d.current&&o&&s(!0)}()},h=o.useScroll(e).setScrollEventHandler;r.useEffect((function(){h(c?p:function(){})}),[c]);return{enabled:c,sticky:f,scrollToBottom:function(){v(),s(!0)},enable:function(){return i(!0)},disable:function(){return i(!1)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useScroll=void 0;var r=n(0);t.useScroll=function(e){var t=r.useRef((function(){})),n=r.useState(1),o=n[0],l=n[1];r.useEffect((function(){var n=t.current,r=e.current;return n({}),r.addEventListener("scroll",n),function(){r.removeEventListener("scroll",n)}}),[o]);var u=r.useRef(!1),c=r.useRef(0),i=r.useRef(0);return{isFetching:function(){return u.current},setFetching:function(){u.current=!0},setFetched:function(){u.current=!1},getCurrentScrollHeight:function(){return e.current.scrollHeight},getScrollTop:function(){return e.current.scrollTop},setScrollTop:function(t){e.current.scrollTop=t},getStoredScrollHeight:function(){return c.current},storeCurrentScrollHeight:function(){c.current=e.current.scrollHeight},getStoredScrollTop:function(){return i.current},storeCurrentScrollTop:function(){i.current=e.current.scrollTop},setScrollEventHandler:function(e){t.current=e,l(o+1)}}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,l){function u(e){try{i(r.next(e))}catch(e){l(e)}}function c(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}i((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,l,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return u.label++,{value:l[1],done:!1};case 5:u.label++,r=l[1],l=[0];continue;case 7:l=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){u=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){u.label=l[1];break}if(6===l[0]&&u.label<o[1]){u.label=o[1],o=l;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(l);break}o[2]&&u.ops.pop(),u.trys.pop();continue}l=t.call(e,u)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},l=this;Object.defineProperty(t,"__esModule",{value:!0}),t.EScrollThresholdType=t.useReverseInfiniteScroll=void 0;var u=n(2),c=n(0);t.useReverseInfiniteScroll=function(e,t,n){var f=c.useRef(t),s=a(n),d=s.scrollThresholdType,v=s.scrollThresholdValue,p=s.enabled,h=c.useState(p),b=h[0],y=h[1],S=u.useScroll(e),g=S.setScrollEventHandler,T=S.getCurrentScrollHeight,_=S.getStoredScrollHeight,w=S.getStoredScrollTop,x=S.isFetching,m=S.setFetched,E=S.setFetching,j=S.getScrollTop,k=S.setScrollTop,O=S.storeCurrentScrollHeight,P=S.storeCurrentScrollTop,M=function(){return r(l,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return x()||!function(){var e,t,n,r=((e={})[i.fraction]=function(){return j()<=T()*v},e[i.pixels]=function(){return j()<=v},e);return null!==(n=null===(t=r[d])||void 0===t?void 0:t.call(r))&&void 0!==n&&n}()?[3,2]:(E(),[4,f.current((function(){O(),P()}))]);case 1:t.sent(),e=T()-_(),k(w()+e),m(),t.label=2;case 2:return[2]}}))}))};c.useEffect((function(){g(b?M:function(){})}),[b]);return{enable:function(){return y(!0)},disable:function(){return y(!1)},updateLoadMoreCb:function(e){f.current=e},enabled:b}};var i,a=function(e){var t,n,r,o,l,u=null!==(n=null===(t=null==e?void 0:e.scrollThreshold)||void 0===t?void 0:t.type)&&void 0!==n?n:i.fraction;return{scrollThresholdType:u,scrollThresholdValue:(null!==(o=null===(r=null==e?void 0:e.scrollThreshold)||void 0===r?void 0:r.value)&&void 0!==o?o:u===i.fraction)?.2:1e3,enabled:null===(l=null==e?void 0:e.enabled)||void 0===l||l}};!function(e){e[e.fraction=0]="fraction",e[e.pixels=1]="pixels"}(i=t.EScrollThresholdType||(t.EScrollThresholdType={}))},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5),t),o(n(1),t),o(n(6),t);var l=n(3);Object.defineProperty(t,"EScrollThresholdType",{enumerable:!0,get:function(){return l.EScrollThresholdType}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useChatScroll=void 0;var r=n(1),o=n(3);t.useChatScroll=function(e,t,n,l){var u,c,i=o.useReverseInfiniteScroll(e,n,null!==(u=null==l?void 0:l.reverseInfiniteScroll)&&void 0!==u?u:{}),a=i.disable,f=i.enable,s=i.enabled,d=i.updateLoadMoreCb,v=r.useStickyScroll(e,t,null!==(c=null==l?void 0:l.stickyScroll)&&void 0!==c?c:{}),p=v.disable,h=v.enable,b=v.enabled,y=v.scrollToBottom;return{reverseInfiniteScrollEnabled:s,stickyScrollEnabled:b,enableReverseInfiniteScroll:f,disableReverseInfiniteScroll:a,enableStickyScroll:h,disableStickyScroll:p,sticky:v.sticky,scrollToBottom:y,updateLoadMoreCb:d}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,l){function u(e){try{i(r.next(e))}catch(e){l(e)}}function c(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}i((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,l,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return u.label++,{value:l[1],done:!1};case 5:u.label++,r=l[1],l=[0];continue;case 7:l=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){u=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){u.label=l[1];break}if(6===l[0]&&u.label<o[1]){u.label=o[1],o=l;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(l);break}o[2]&&u.ops.pop(),u.trys.pop();continue}l=t.call(e,u)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},l=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var l=arguments[t],u=0,c=l.length;u<c;u++,o++)r[o]=l[u];return r},u=this;Object.defineProperty(t,"__esModule",{value:!0}),t.useDataLoader=void 0;var c=n(0);t.useDataLoader=function(e,t,n,i){void 0===i&&(i=[]);var a=c.useRef(i),f=c.useRef(t),s=c.useRef(null);c.useEffect((function(){f.current=t}),[t,t.length]),c.useEffect((function(){a.current=l(i)}),l(i));return c.useEffect((function(){s.current&&(s.current(),s.current=null)}),[t]),function(t){return r(u,void 0,void 0,(function(){var r,u;return o(this,(function(o){switch(o.label){case 0:return[4,e.apply(void 0,a.current)];case 1:return r=o.sent(),t(),u=new Promise((function(e){s.current=e})),n(l(r,f.current)),[2,u]}}))}))}}}])}));
//# sourceMappingURL=index.js.map